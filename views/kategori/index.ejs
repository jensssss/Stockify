<!-- Page Title and Add Category Button -->
<div class="d-flex justify-content-between align-items-center mb-3 mt-5">
  <h3 class="fw-bold">List Kategori</h3>
  <a href="/kategori/tambah" class="btn btn-primary">Tambah Kategori</a>
</div>

<!-- Filter/Search Bar -->
<div class="mb-3">
  <input type="text" class="form-control" id="search" placeholder="Search Categories...">
</div>

<% if (msg.length !== 0) { %>
  <div class="alert alert-success flash-message" role="alert"><%= msg %></div>
<% } %>

<!-- Category Table -->
<div class="table-responsive">
  <table class="table table-striped table-bordered">
    <thead class="table-primary text-dark">
      <tr>
        <th>#</th>
        <th>Nama Kategori</th>
        <th>Aksi</th>
      </tr>
    </thead>
    <tbody>
      <% category.forEach((cat, index) => { %>
        <tr>
          <td><%= index + 1%></td>
          <td><%= cat.name %></td>
          <td>
            <form action="/kategori?_method=DELETE" method="POST" class="d-inline">
                <input type="hidden" name="name" value="<%= cat.name %>">
                <button type="submit" class="btn btn-danger btn-sm" onclick="return confirm('Yakin?')">Delete</button>
            </form>
          </td>
        </tr>
      <% }) %>
      <!-- Add more rows here as needed -->
    </tbody>
  </table>
</div>

<!-- Pagination -->
<nav aria-label="Page navigation">
  <ul class="pagination justify-content-center">
    <li class="page-item"><a class="page-link" href="#">Previous</a></li>
    <li class="page-item"><a class="page-link" href="#">1</a></li>
    <li class="page-item"><a class="page-link" href="#">2</a></li>
    <li class="page-item"><a class="page-link" href="#">Next</a></li>
  </ul>
</nav>

<script>
  // Automatically remove flash message with fade-out after 3 seconds
  setTimeout(function() {
    const flashMessage = document.querySelector('.flash-message');
    if (flashMessage) {
      flashMessage.classList.add('hidden'); // This triggers the fade-out effect
      setTimeout(function() {
        flashMessage.style.display = 'none'; // Hides the message completely after fade-out
      }, 500); // Matches the CSS transition time
    }
  }, 3000); // 3000 milliseconds = 3 seconds
</script>